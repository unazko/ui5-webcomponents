{"version":3,"file":"04-writing-stories.60bf6330.js","sources":["../../../docs/storybook/6-contributing/04-writing-stories.mdx"],"sourcesContent":["import { Meta } from '@storybook/blocks';\n\n<Meta title=\"Docs/Contributing/Writing stories\" />\n\n# UI5 Web Components Storybook App\nThe UI5 Web Components Storybook app is a playground for testing and documenting the UI5 Web Components library. It allows developers to create stories for each UI component,\ncapturing its rendered state in various scenarios, and to document all the potential states that a component can display.\n\n## Running the UI5 Web Components Storybook App Locally\n\nTo run the [UI5 Web Components Storybook app](https://sap.github.io/ui5-webcomponents/) locally and test your changes and samples, follow the steps below:\n\n### 1. In the root folder of the project, run the following command:\n\n```bash\nyarn build # this step needs to be performed only the first time you run the project, to build the project initially\n```\n\n### 2. Go to the playground package.\n```bash\ncd packages/playground\nyarn storybook # to run the storybook app\n```\nNote that these steps are required only for running the Storybook app locally and not for general development.\n\n## What's a Story\nA story is a documentation of a UI component that captures its rendered state in various scenarios. Stories are useful for documenting all the potential states that a component can display, and they allow developers to test UI components in isolation.\n\nUI components can be rendered in various scenarios, such as with different props or state, or in different layouts or contexts. Stories capture these scenarios and provide documentation of the component's behavior in each scenario.\n\n## Where to write stories\nStories are written in the `_stories` folder of the playground package. For example, the stories for the `ui5-button` component are located in the `packages/playground/_stories/Button.stories.ts` file.\n\n## How to write stories\nThe storybook app uses the [Storybook framework](https://storybook.js.org/docs/basics/introduction/) to render the stories. The stories are written in the [Component Story Format (CSF)](https://storybook.js.org/docs/web-components/api/csf) format.\n\nThe args object is used to define the properties of the component, which can be edited in the playground by users. Decorators and parameters can be used to enhance the documentation of stories.\n\nHere is an example of a story for the ui5-button component:\n\n```ts\nimport { html } from \"lit\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\n\nexport default {\n  title: \"main/Button\",\n  component: \"ui5-button\",\n};\n\nexport const Default = (args) => html`\n  <ui5-button ?disabled=\"${ifDefined(args.disabled)}\">${unsafeHTML(args.default)}</ui5-button>\n`;\n\nexport const Disabled = Template.bind({});\nDisabled.args = {\n  disabled: true,\n  default: \"Disabled\",\n};\n\nDisabled.decorators = [ ... ];\nDisabled.parameters = { ... };\nDisabled.storyName = 'So simple!'; // e.g. to rename the story in the sidebar, if not set the name of the const export is used\n```\n\nEvery property defined in the `args` object of the named export will end up as input control in the playground that users can edit.\n\n### Story Decorators\n[Decorators](https://storybook.js.org/docs/web-components/writing-stories/decorators) are used to wrap stories with extra markup or context. This is useful if you want to include additional script.\n\n```ts\nexport const Template = (args) => html`\n  <ui5-dialog id=\"myDialog\">\n\t${unsafeHTML(args.default)}\n  </ui5-dialog>\n`;\n\nBasicDialog.decorators = [\n  (story) => html`\n\t<ui5-button id=\"dialogOpener\">Open Dialog</ui5-button>\n\t${story()}\n\t<script>\n\t\tdocument.getElementById(\"dialogOpener\").addEventListener(\"click\", () => {\n\t\t\tdocument.getElementById(\"myDialog\").open();\n\t\t});\n\t</script>\n  `,\n];\n```\n\n### Story parameters\n[Parameters](https://storybook.js.org/docs/web-components/writing-stories/parameters) are static, metadata about a story, used to control the behavior of Storybook features and addons. \n\nThey can be used both on the default export (Component parameters), applicable to all stories of the component:\n\n```ts\nexport default {\n  title: \"main/CheckBox\",\n  component: \"ui5-checkbox\",\n  parameters: {\n\t  controls: { include: [\"indeterminate\", \"checked\"] }\n  }\n};\n```\n\nOr per every named export (Story Parameters), applicable to a specific story:\n\n```ts\nBasicCheckBox.parameters = {\n    controls: {\n        include: [\"indeterminate\", \"checked\"],\n    },\n};\n```\n\nOr globally in the `.storybook/preview.ts` file.\n\nThe above example includes only the `indeterminate`, `checked` properties in the playground for users to edit.\n\n\n## Documentation\nThe documentation for each component is automatically produced using the `custom-elements.json` file. Additionally, there is an `argTypes.ts` file located beside each `.stories.ts` file. It is generated during build time and contains extra properties that enhance the documentation beyond what is available in the `custom-elements.json` file. This file should not be edited directly, as it can only be modified by the `packages/playground/build-scripts-storybook/samples-prepare.js` script.\n\n### Docs page\nEvery story has a `docs` page in the storybook's sidebar. Usually, this page is generated automatically by storybook but it can be customized by adding a `docs` property to the story parameters. \n\n```ts\nexport default {\n    title: \"Main/Button\",\n    component,\n    parameters: {\n        docs: {\n          page: DocsPage({ ...componentInfo, component })\n        },\n    },\n    argTypes,\n} as Meta<Button>;\n```\n\n## Configuration\nStorybook configuration is located in the `.storybook` folder. \n\nThe `preview.ts` file is the main configuration file. It is used to configure the storybook app in terms of UI features, global parameters and decorators. \n\nThe `main.js` file is used to configure the storybook app in terms of the stories that should be loaded, as well as the addons that should be used. Build time configuration is also done here.\n\nThe Manager configured in `manager.tsx` file is the UI responsible for rendering the search, the toolbar, registering custom addons, as well as theming the UI.\n\n### Build scripts\nSeveral build scripts are used to generate the stories documentation. They are located in the `packages/playground/build-scripts-storybook` folder. Ran before every build of the storybook, they are responsible for generating the `argTypes.ts` file, to merge the `custom-elements.json` files and parse the content of the `docs` folder to `mdx` format.\n\n## Troubleshooting\nIf you encounter an error when running yarn storybook, try the following:\n\n- Make sure you have built the sources by running `yarn build`.\n- Storybook parses the documentation from the `docs` folder. Files are transformed from `.md` to `.mdx` format. If you encounter an error, check if it is mdx related, locate the errored file and use the [MDX Playground](https://mdxjs.com/playground/) to fix it. "],"names":["MDXContent","props","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment","Meta","__page","componentMeta","__namedExportsOrder"],"mappings":"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"}