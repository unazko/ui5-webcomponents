{"version":3,"file":"UploadCollection.stories.js","sourceRoot":"","sources":["../../../../_stories/fiori/UploadCollection/UploadCollection.stories.ts"],"names":[],"mappings":"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","sourcesContent":["import { html } from \"lit\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\nimport type { Decorator, Meta } from \"@storybook/web-components\";\nimport argTypes from \"./argTypes.js\";\nimport type { StoryArgsSlots } from \"./argTypes.js\";\nimport type { UI5StoryArgs } from \"../../../types.js\";\n\nimport UploadCollection from \"@ui5/webcomponents-fiori/dist/UploadCollection.js\";\nimport UploadState from \"@ui5/webcomponents-fiori/dist/types/UploadState.js\";\nimport ListMode from \"@ui5/webcomponents/dist/types/ListMode.js\";\nimport ListItemType from \"@ui5/webcomponents/dist/types/ListItemType.js\";\n\nexport default {\n\ttitle: \"Fiori/Upload Collection\",\n\tcomponent: \"UploadCollection\",\n\targTypes,\n} as Meta<UploadCollection>;\n\nconst uploadCollectionItem = (fileName: string, fileNameClickable: boolean, uploadState: UploadState, defaultSlot: string, thumbnail?: string, type?: ListItemType, progress?: string , disableDeleteButton?: boolean, hideDeleteButton?: boolean, hideRetryButton?: boolean, hideTerminateButton?: boolean) => {\n\treturn `<ui5-upload-collection-item file-name=\"${fileName}\" upload-state=\"${uploadState}\" ${type ? `type=\"${type}\"` : \"\"} ${progress ? `progress=\"${progress}\"` : \"\"} ${fileNameClickable ? `file-name-clickable` : \"\"} ${disableDeleteButton ? `disable-delete-button=` : \"\"} ${hideDeleteButton ? `hide-delete-button` : \"\"} ${hideRetryButton ? `hide-retry-button` : \"\"} ${hideTerminateButton ? `hide-terminate-button` : \"\"}>\n\t${defaultSlot}\n\t${thumbnail ? thumbnail : \"\"}\n</ui5-upload-collection-item>`;\n};\n\nconst Template: UI5StoryArgs<UploadCollection, StoryArgsSlots> = (args) => {\n\treturn html`\n<ui5-upload-collection\n\tid=\"${ifDefined(args.id)}\"\n\tmode=\"${ifDefined(args.mode)}\"\n\tno-data-description=\"${ifDefined(args.noDataDescription)}\"\n\tno-data-text=\"${ifDefined(args.noDataText)}\"\n\t?hide-drag-overlay=\"${ifDefined(args.hideDragOverlay)}\"\n\taccessible-name=\"${ifDefined(args.accessibleName)}\"\n>\n\t${unsafeHTML(args.header)}\n\t${unsafeHTML(args.default)}\n</ui5-upload-collection>`;\n};\n\nconst handleItemDeleteEvent: Decorator = (story) => {\n\treturn html`${story()}\n\n<script>\n\tvar uploadCollection = document.querySelector(\"ui5-upload-collection\");\n\tuploadCollection.addEventListener(\"ui5-item-delete\", e => {\n\t\tuploadCollection.removeChild(e.detail.item);\n\t});\n</script>`;\n};\n\nconst setHeaderStyles: Decorator = (story) => {\nreturn html`<style>\n\t.header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\toverflow: hidden;\n\t\tflex-wrap: wrap;\n\t}\n\n\t.spacer {\n\t\tflex: 1 1 auto;\n\t}\n\n\t.header > * {\n\t\tmargin: 0.25rem;\n\t}\n</style>\n\n${story()}`;\n};\n\nconst handleFileUpload: Decorator = (story) => {\n\treturn html`${story()}\n\n<script>\n\tvar uploadCollection = document.querySelector(\"ui5-upload-collection\");\n\tvar fileUploader = document.getElementById(\"fileUploader\");\n\tvar startUploading = document.getElementById(\"startUploading\");\n\n\tfileUploader.addEventListener(\"change\", e => {\n\t\tvar files = e.detail.files;\n\t\tfor (var i = 0; i < files.length; i++) {\n\t\t\tuploadCollection.appendChild(createUCI(files[i]));\n\t\t}\n\t});\n\n\tfunction createUCI(file) {\n\t\tvar uci = document.createElement(\"ui5-upload-collection-item\");\n\t\tvar description = document.createTextNode(\"Last modified: \" + file.lastModifiedDate + \", size: \" + file.size);\n\n\t\tuci.appendChild(createThumbnail(file.name));\n\t\tuci.appendChild(description);\n\t\tuci.file = file;\n\t\tuci.fileName = file.name;\n\t\treturn uci;\n\t}\n\n\tfunction createThumbnail(fileName) {\n\t\tvar icon = document.createElement(\"ui5-icon\");\n\t\ticon.name = \"document\";\n\t\ticon.slot = \"thumbnail\";\n\t\treturn icon;\n\t}\n\n\tstartUploading.addEventListener(\"click\", e => {\n\t\tuploadCollection.items\n\t\t\t.filter(item => item.uploadState === \"Ready\" && item.file)\n\t\t\t.forEach(item => {\n\t\t\t\titem.uploadState = \"Uploading\";\n\n\t\t\t\tfetch(\"/upload\", {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: item.file\n\t\t\t\t}).then(res => {\n\t\t\t\t\titem.uploadState = res.status === 200 ? \"Complete\" : \"Error\";\n\t\t\t\t});\n\t\t\t});\n\t});\n</script>`;\n};\nexport const Basic = Template.bind({});\nBasic.args = {\n\tmode: ListMode.Delete,\n\tid: \"uploadCollection\",\n\taccessibleName: \"Uploaded (2)\",\n\theader: `<div slot=\"header\" class=\"header\">\n\t<ui5-title>Uploaded (2)</ui5-title>\n\t<ui5-label show-colon>Add new files and press to start uploading pending files</ui5-label>\n\t<ui5-button id=\"startUploading\">Start</ui5-button>\n\t<div class=\"spacer\"></div>\n\t<ui5-file-uploader id=\"fileUploader\" hide-input multiple>\n\t\t<ui5-button icon=\"add\" design=\"Transparent\"></ui5-button>\n\t</ui5-file-uploader>\n</div>`,\n\tdefault: `${uploadCollectionItem(\n\t\"LaptopHT-1000.jpg\",\n\ttrue,\n\tUploadState.Complete,\n\t\"Uploaded By: David Keane · Uploaded On: 2014-07-26 · File Size: 35 KB\",\n\t`<img src=\"../assets/images/HT-1000.jpg\" slot=\"thumbnail\">`\n)}\n${uploadCollectionItem(\n\t\"Notes.txt\",\n\tfalse,\n\tUploadState.Complete,\n\t`Uploaded By: John Smith · Uploaded On: 2014-09-02 · File Size: 226.6 KB`,\n\t`<ui5-icon name=\"document-text\" slot=\"thumbnail\"></ui5-icon>`,\n)}`,\n};\nBasic.parameters = {\n\tdocs: {\n\t\tstory: {\n\t\t\tiframeHeight: \"500px\",\n\t\t},\n\t},\n};\nBasic.decorators = [\n\tsetHeaderStyles,\n\thandleFileUpload,\n\thandleItemDeleteEvent,\n]\n\nconst alertOnFileRename: Decorator = (story) => {\n\treturn html`${story()}\n\n<script>\n\tvar uploadCollection = document.querySelector(\"ui5-upload-collection\");\n\tuploadCollection.addEventListener(\"rename\", e => {\n\t\talert(\"Rename event: \" + e.target.fileName);\n\t});\n</script>`;\n};\n\nexport const RenamingFiles = Template.bind({});\nRenamingFiles.args = {\n\theader: `<div slot=\"header\" class=\"header\">\n\t<ui5-title>Attachments (2)</ui5-title>\n</div>`,\n\tdefault: `${uploadCollectionItem(\n\t\"LaptopHT-1000.jpg\",\n\ttrue,\n\tUploadState.Complete,\n\t\"Uploaded By: David Keane · Uploaded On: 2014-07-26 · File Size: 35 KB\",\n\t`<img src=\"../assets/images/HT-1000.jpg\" slot=\"thumbnail\">`,\n\tListItemType.Detail\n)}\n${uploadCollectionItem(\n\t\"Notes.txt\",\n\tfalse,\n\tUploadState.Complete,\n\t\"Uploaded By: John Smith · Uploaded On: 2014-09-02 · File Size: 226.6 KB\",\n\t`<ui5-icon name=\"document-text\" slot=\"thumbnail\"></ui5-icon>`,\n\tListItemType.Detail\n)}`,\n};\n\nRenamingFiles.decorators = [\n\talertOnFileRename,\n\thandleItemDeleteEvent,\n];\n\nconst alertOnFileRetryTerminate: Decorator = (story) => {\n\treturn html`${story()}\n\n<script>\n\tvar uploadCollection = document.querySelector(\"ui5-upload-collection\");\n\tuploadCollection.addEventListener(\"retry\", e => {\n\t\talert(\"Retry uploading: \" + e.target.fileName);\n\t});\n\tuploadCollection.addEventListener(\"terminate\", e => {\n\t\talert(\"Terminate uploading of: \" + e.target.fileName);\n\t});\n</script>`;\n};\nexport const VariousUploadStates = Template.bind({});\nVariousUploadStates.args = {\n\theader: `<div class=\"header\" slot=\"header\">\n\t<ui5-title>Upload States</ui5-title>\n</div>`,\n\tdefault: `\n${uploadCollectionItem(\n\t\"LaptopHT-1000.jpg\",\n\tfalse,\n\tUploadState.Complete,\n\t`uploadState=\"Complete\"`,\n\t`<img src=\"../assets/images/HT-1000.jpg\" slot=\"thumbnail\">`\n)}\n${uploadCollectionItem(\n\t\"Laptop.jpg\",\n\tfalse,\n\tUploadState.Uploading,\n\t`uploadState=\"Uploading\"`,\n\t`<img src=\"../assets/images/HT-1000.jpg\" slot=\"thumbnail\">`,\n\tListItemType.Active,\n\t\"37\"\n)}\n${uploadCollectionItem(\n\t\"latest-reports.pdf\",\n\tfalse,\n\tUploadState.Error,\n\t`uploadState=\"Error\"`,\n`<ui5-icon name=\"document-text\" slot=\"thumbnail\"></ui5-icon>`,\n\tListItemType.Active,\n\t\"59\"\n)}\n${uploadCollectionItem(\n\t\"Notes.txt\",\n\tfalse,\n\tUploadState.Ready,\n\t`uploadState=\"Ready\" (default)`,\n\t`<ui5-icon name=\"document-text\" slot=\"thumbnail\"></ui5-icon>`,\n)}`,\n};\nVariousUploadStates.parameters = {\n\tdocs: {\n\t\tstory: {\n\t\t\tiframeHeight: \"400px\",\n\t\t},\n\t},\n};\nVariousUploadStates.decorators = [\n\talertOnFileRetryTerminate,\n\thandleItemDeleteEvent,\n];\n\nconst handleDropEvent: Decorator = (story) => {\n\treturn html`${story()}\n\n<script>\n\tvar uploadCollection = document.querySelector(\"ui5-upload-collection\");\n\tuploadCollection.addEventListener(\"drop\", e => {\n\t\te.preventDefault();\n\n\t\tvar files = e.dataTransfer.files;\n\t\t// Take the files from the drop event and create <ui5-upload-collection-item> from them\n\t\tfor (var i = 0; i < files.length; i++) {\n\t\t\tuploadCollection.appendChild(createUCI(files[i]));\n\t\t}\n\t});\n\n\tfunction createUCI(file) {\n\t\tvar uci = document.createElement(\"ui5-upload-collection-item\");\n\t\tvar description = document.createTextNode(\"Last modified: \" + file.lastModifiedDate + \", size: \" + file.size);\n\n\t\tuci.appendChild(createThumbnail(file.name));\n\t\tuci.appendChild(description);\n\t\tuci.file = file;\n\t\tuci.fileName = file.name;\n\t\treturn uci;\n\t}\n\n\tfunction createThumbnail(fileName) {\n\t\tvar icon = document.createElement(\"ui5-icon\");\n\t\ticon.name = \"document\";\n\t\ticon.slot = \"thumbnail\";\n\t\treturn icon;\n\t}\n</script>`;\n};\nexport const DragAndDrop = Template.bind({});\nDragAndDrop.args = {\n\theader: `<div slot=\"header\" class=\"header\">\n\t<ui5-title>Attachments</ui5-title>\n\t<ui5-label show-colon>Add new files and press to start uploading pending files</ui5-label>\n\t<ui5-button id=\"startUploading\">Start</ui5-button>\n\t<div class=\"spacer\"></div>\n\t<ui5-file-uploader id=\"fileUploader\" hide-input multiple>\n\t\t<ui5-button icon=\"add\" design=\"Transparent\"></ui5-button>\n\t</ui5-file-uploader>\n</div>`,\n};\nDragAndDrop.parameters = {\n\tdocs: {\n\t\tstory: {\n\t\t\tiframeHeight: \"500px\",\n\t\t},\n\t},\n};\nDragAndDrop.decorators = [\n\tsetHeaderStyles,\n\thandleFileUpload,\n\thandleDropEvent,\n\thandleItemDeleteEvent,\n]"]}