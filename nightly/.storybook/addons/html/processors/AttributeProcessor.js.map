{"version":3,"file":"AttributeProcessor.js","sourceRoot":"","sources":["../../../../../.storybook/addons/html/processors/AttributeProcessor.ts"],"names":[],"mappings":"AAEA;;;GAGG;AACH,MAAM,OAAO,kBAAkB;IAC3B,OAAO,CAAC,IAAiB;QACrB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAEO,IAAI,CAAC,SAAe;QACxB,OAAO;YACH,CAAC,IAAU,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YAC5C,CAAC,IAAU,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;SAC5C,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACZ,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE;gBACjB,OAAO,IAAI,CAAC;aACf;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,gBAAgB,CAAC,IAAiB;QACtC,MAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE/C,KAAK,IAAI,SAAS,IAAI,UAAU,EAAE;YAC9B,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACtB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;aACxC;SACJ;IACL,CAAC;CACJ","sourcesContent":["import { IProcessor } from \"./IProcessor\";\n\n/**\n * This class is responsible for processing the attributes of the story.\n * Remove attributes that are not needed. E.g. private attributes such as _id, _mode, _* and ui5-* attributes.\n */\nexport class AttributeProcessor implements IProcessor {\n    process(node: HTMLElement): void {\n        this.removeAttributes(node);\n    }\n\n    private test(attribute: Attr): boolean {\n        return [\n            (attr: Attr) => attr.name.startsWith(\"ui5-\"),\n            (attr: Attr) => attr.name.startsWith(\"_\"),\n        ].some((test) => {\n            if (test(attribute)) {\n                return true;\n            }\n        });\n    }\n\n    private removeAttributes(node: HTMLElement): void {\n        const attributes = Array.from(node.attributes);\n\n        for (let attribute of attributes) {\n            if (this.test(attribute)) {\n                node.removeAttribute(attribute.name);\n            }\n        }\n    }\n}\n"]}