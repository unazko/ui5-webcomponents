{"version":3,"file":"06-using-i18n-for-apps-c0e84ae9.js","sources":["../../../docs/storybook/2-advanced/06-using-i18n-for-apps.mdx"],"sourcesContent":["import { Meta } from '@storybook/blocks';\n\n<Meta title=\"Docs/Advanced/Using i18n for apps\" />\n\n# UI5 Web Components i18n for Apps\n\n*This section explains how to use the UI5 Web Components `i18n` functionality for the purpose of your app's translatable texts.\nNone of the code below implies or requires the usage of UI5 Web Components, and can be used completely stand-alone.*\n\nThe `@ui5/webcomponents-base` package allows the usage of `i18n` functionality not just for UI5 Web Components,\nbut for apps as well.\n\n*Note:* This section is dedicated to apps. For information on how to set up `i18n` for your custom components, please see [Developing Web Components](./?path=/docs/docs-development-custom-ui5-web-components--docs).\n\n## Step-by-Step Tutorial\n\nThis tutorial will show you how to use the UI5 Web Components `i18n` functionality for the purpose of your apps.\n\n### 1. Start by creating some `i18n` resources in `.properties` format in a directory that can be served, for example:\n\n|                 File                 |          Content           |\n| ------------------------------------ | -------------------------- |\n| `assets/messagebundle_de.properties` | `PLEASE_WAIT=Bitte warten` |\n| `assets/messagebundle_fr.properties` | `PLEASE_WAIT=Patientez.`   |\n| `assets/messagebundle_es.properties` | `PLEASE_WAIT=Espere`       |\n| `assets/messagebundle_en.properties` | `PLEASE_WAIT=Please wait`  |\n\n(This example demonstrates just one translatable text per file for simplicity. You can have any number of texts per file, each on a new line.)\n\n### 2. Import the following `i18n`-related modules to your app:\n\n```js\nimport parseProperties from \"@ui5/webcomponents-base/dist/PropertiesFileFormat.js\";\nimport { registerI18nLoader, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\n```\n\nThe first one provides support for `.properties` files, as used in the example, and the second one - the functions\nthat will allow you to take advantage of the `i18n` functionality.\n\n### 3. Register a loader function that can retrieve and process the actual content of your message bundles:\n\n```js\nconst supportedLocales = [\"en\", \"fr\", \"de\", \"es\"];\nsupportedLocales.forEach(localeToRegister => {\n\tregisterI18nLoader(\"myApp\", localeToRegister, async (localeId) => {\n\t\tconst props = await (await fetch(`./assets/messagebundle_${localeId}.properties`)).text();\n\t\treturn parseProperties(props);\n\t});\n});\n```\n\nThe first argument to `registerI18nLoader` is an ID that will be used to reference this message bundle, the second is the locale this loader can load, and the third is a function that can load and process the content for the specified package/locale combination.\n\n*Note:* For more assets, a loop is used to register a loader for each package/locale combination. The same loader function can be registered and its parameter can be used to distinguish which locale resource is requested.\n\n*Note:* This step takes care of registering assets only, no data will be fetched at this point.\n\n### 4. Get and use the bundle:\n\n```js\nconst bundle = await getI18nBundle(\"myApp\");\nconst pleaseWait = bundle.getText(\"PLEASE_WAIT\");\nconsole.log(\"Please wait in the current language is: \", pleaseWait);\n```\n\nYou can pass multiple additional values to `getText` for texts with placeholders.\n\nIf your text looks like this\n\n`CAROUSEL_DOT_TEXT=Item {0} of {1} displayed`\n\nyou can call `getText`\n\n`bundle.getText(\"CAROUSEL_DOT_TEXT\", 5, 20);`\n\nwhich will finally result in\n\n`Item 5 of 20 displayed`.\n\n### 5. Test your page using different languages, e.g. set `?sap-ui-language=de` in the URL or change the configuration.\n\n## Summary\n\nThe whole code would look like this:\n\n```js\nimport parseProperties from \"@ui5/webcomponents-base/dist/PropertiesFileFormat.js\";\nimport { registerI18nLoader, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\n\nconst supportedLocales = [\"en\", \"fr\", \"de\", \"es\"];\nsupportedLocales.forEach(localeToRegister => {\n\tregisterI18nLoader(\"myApp\", localeToRegister, async (localeId) => {\n\t\tconst props = await (await fetch(`./assets/messagebundle_${localeId}.properties`)).text();\n\t\treturn parseProperties(props);\n\t});\n});\n\nconst bundle = await getI18nBundle(\"myApp\");\n\nconst pleaseWait = bundle.getText(\"PLEASE_WAIT\");\nconsole.log(\"Please wait in the current language is: \", pleaseWait);\n```\n\nYou register your assets for all supported languages, then you fetch the data for the currently active language,\nget a reference to the bundle and call the `getText` method to get texts for your app.\n\n## Tips and Tricks\n\n - You can skip the `.properties` format support import\n\n ```js\nreturn await (await fetch(`./assets/messagebundle_${localeId}.json`)).json();\n ```\nand return the data directly in `.json` format if you want to load a little bit less code in the runtime.\n\n|              File              |              Content              |\n| ------------------------------ | --------------------------------- |\n| `assets/messagebundle_de.json` | `{\"PLEASE_WAIT\": \"Bitte warten\"}` |\n| `assets/messagebundle_fr.json` | `{\"PLEASE_WAIT\": \"Patientez.\"}`   |\n| `assets/messagebundle_es.json` | `{\"PLEASE_WAIT\": \"Espere\"}`       |\n| `assets/messagebundle_en.json` | `{\"PLEASE_WAIT\": \"Please wait\"}`  |\n\n\nNext: [Accessibility](./?path=/docs/docs-advanced-accessibility--docs)\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","MDXContent","MDXLayout"],"mappings":"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"}